import*as components from"../utils/index.js";import{getPhotographers}from"./index.js";let slug,photographersData,mediaData;export let globalAssets;export const defaultData=[];export let galleryMedia=[];async function getData(){const{photographers:t,media:e}=await getPhotographers();photographersData=t,mediaData=e,await getSlug(),handleData()}async function getSlug(){try{const t=await fetch(window.location.search).then((t=>t.url));slug=new URL(t).search.slice(4)}catch(t){console.error(t)}}export const handleData=async()=>{const t=mediaData,e=photographersData.filter((t=>t.id==slug)),[{name:a,city:o,country:r,tagline:n,portrait:l,assets:s,price:c}]=e;globalAssets=s,document.querySelector(".modal h2").innerHTML=`Contact me<br />${a}`,document.querySelector(".modal").setAttribute("aria-label","Contact me "+a);const d=`../../assets/photographers/Photographer_Photos/${l}`;let i=0;document.querySelector(".name").textContent=a,document.querySelector(".city").textContent=`${o}, ${r}`,document.querySelector(".tag").textContent=n;const p=document.querySelector(".portrait");p.setAttribute("src",d),p.setAttribute("role","Image"),p.setAttribute("alt",a);const u=document.querySelector(".photos_Container"),g=document.createElement("div"),m=t.filter((t=>t.photographerId==slug));g.classList.add("photos_container_box");const y=document.querySelector(".galleryPhoto");components.handleMedia(m,defaultData),galleryMedia=[...defaultData],galleryMedia.forEach((t=>{t.video&&components.addVideo(t,s,g,galleryMedia),t.photo&&components.addPhoto(t,s,g,galleryMedia),i+=t.likes}));components.handleSortBtn((()=>components.updateSorted(g,galleryMedia,s,y))),u.appendChild(g);const h=document.querySelector(".closeBtn");h.addEventListener("click",(()=>document.querySelector(".galleryBox").style.display="none")),h.addEventListener("keypress",(t=>{if("Enter"===t.key)return document.querySelector(".galleryBox").style.display="none"})),document.getElementById("price").textContent=`${c}â‚¬ / jour`,document.getElementById("totalLikes").textContent=i,components.handleGalleryBtn()};export const handleSorting=(t,e,a)=>{switch(t.setAttribute("aria-expanded","true"),a.target.value){case"Date":galleryMedia=galleryMedia.sort(((t,e)=>e.date-t.date)),components.updateOptionsState(a.target.options,1),e();break;case"Title":galleryMedia=galleryMedia.sort(((t,e)=>t.title<e.title?-1:e.title<t.title?1:0)),components.updateOptionsState(a.target.options,2),e();break;default:galleryMedia=[...defaultData],components.updateOptionsState(a.target.options,0),e()}};getData();
//# sourceMappingURL=photographer.js.map
